<div dir="rtl">

# فاز تحلیل نرم‌افزار و پیاده‌سازی — پروژه Notes (Flutter + Hive)
**تاریخ:** ۱۴۰۴/۰۵/۲۸

این سند شامل تحلیل کامل (SRS)، مدل داده، دیاگرام‌ها، الزامات غیرکارکردی، سناریوها و ریزِ پیاده‌سازی برای اپلیکیشن یادداشت/تسک «Notes» است. این اپ بر پایه Flutter و پایگاه‌داده لوکال Hive پیاده‌سازی می‌شود.

---

## 1) معرفی و دامنه
### 1.1 هدف
ارائهٔ اپلیکیشن مدیریت تسک/یادداشت آفلاین با تجربهٔ کاربری روان، ذخیره‌سازی لوکال، و قابلیت‌های پایه: ایجاد، مشاهده، ویرایش، حذف، دسته‌بندی و علامت‌گذاری انجام‌شده.

### 1.2 دامنهٔ نسخهٔ اول (MVP)
**مدیریت تسک‌ها (CRUD) با فیلدهای**: عنوان، توضیح کوتاه، وضعیت انجام، زمان/تاریخ اختیاری، نوع/دسته‌بندی.
نمایش فهرست تسک‌ها با قابلیت اسکرول، سوایپ برای حذف، و تاگل وضعیت انجام.
انتخاب نوع تسک از لیست نوع‌ها (TaskType) شامل آیکن/تصویر.
ذخیره‌سازی لوکال با Hive بدون نیاز به اینترنت.

### 1.3 تعاریف‌

****Task:**** رکورد وظیفه/یادداشت.

****TaskType:**** دسته‌بندی (به‌همراه تصویر enum).

****TaskTypeEnum:**** مجموعهٔ مقادیر از پیش‌تعریف‌شدهٔ نوع‌ها.

---

## 2) بازیگران و پرسونـا
****کاربر عادی****: ایجاد/ویرایش/حذف تسک؛ تنظیم زمان؛ تغییر وضعیت؛ فیلتر بر اساس نوع.
**(اختیاری آینده) کاربر پیشرفته**: جستجو، مرتب‌سازی، بکاپ/بازیابی، اعلان‌ها.

---

## 3) سناریوها (Use Cases) و معیار پذیرش
### سناریوی ۱: افزودن تسک
****جریان****: کاربر روی FAB می‌زند ← فرم عنوان/توضیح/نوع/زمان ← ذخیره.
****پایان خوش****: رکورد با `box.add(task)` ذخیره و در لیست نمایش داده می‌شود.
****معیار پذیرش****: عنوان خالی اجازهٔ ذخیره ندارد؛ ذخیره موفق Snackbar یا بازگشت به خانه با لیست به‌روز.

### سناریوی ۲: مشاهدهٔ فهرست و وضعیت‌ها
****جریان****: بارگذاری `HomePage` ← لیست تسک‌ها با `ValueListenableBuilder` از `taskBox`.
****معیار پذیرش****: تغییر وضعیت `isDone` فوراً در UI منعکس و با `task.save()` ثبت شود.

### سناریوی ۳: ویرایش تسک
****جریان****: انتخاب آیتم ← صفحهٔ ویرایش ← تغییر مقادیر ← ذخیره.
****معیار پذیرش****: مقادیر جدید در box ذخیره و به لیست بازتاب یابد؛ عنوان خالی خطا بدهد.

### سناریوی ۴: حذف تسک
****جریان****: سوایپ روی آیتم ← تأیید ← حذف از Box.
****معیار پذیرش****: آیتم از لیست و دیتابیس حذف شود؛ قابلیت Undo (در آینده) اختیاری.

### سناریوی ۵ (اختیاری آینده): فیلتر/مرتب‌سازی
****جریان****: انتخاب فیلتر نوع/مرتب‌سازی زمان/وضعیت.
****معیار پذیرش****: فهرست مطابق انتخاب به‌روز شود (در حافظه/Query).

---

## 4) الزامات کارکردی (FR)
۱. سیستم باید امکان **ایجاد/خواندن/ویرایش/حذف** تسک‌ها را فراهم کند.

۲. سیستم باید امکان **علامت‌گذاری انجام‌شده** برای هر تسک را فراهم کند.

۳. سیستم باید **نوع تسک** را از لیست از پیش‌تعریف‌شده دریافت و ذخیره کند.

۴. سیستم باید **زمان/تاریخ اختیاری** را برای هر تسک ذخیره کند.

۵. سیستم باید **بدون اینترنت** نیز کار کند (لوکال دیتابیس Hive).
‌

۶. یو آی (UI) باید به‌صورت **واکنشی** به تغییرات Box به‌روزرسانی شود.
‌

## 5) الزامات غیرکارکردی (NFR)
****کارایی****: افزودن/ویرایش/حذف < 50ms در دیوایس‌های میان‌رده؛ لیست روان تا 2000 رکورد.

****قابلیت اعتماد****: داده‌ها پس از Crash حفظ شود؛ تست واحد حداقل برای مدل‌ها/ریپازیتوری.

****قابلیت نگهداری****: جداسازی لایه‌ها (UI/Service/Repository) و پوشش تست برای منطق.

****استفاده‌پذیری****: فونت خوانا، لمس‌پذیری مناسب، حالت تیره/روشن (آتی).

****امنیت/حریم خصوصی****: دادهٔ لوکال فقط روی دستگاه؛ (آتی) قفل برنامه/Biometric.

****سازگاری****: Android 7+، iOS 13+ (در صورت تست/بیلد).

</div>